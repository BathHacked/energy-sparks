<p>The Meter Point Number is also known as the MPAN (for electricity meters) and the MPRN (for gas meters)</p>
<%= form_for [school, meter] do |form| %>
  <%= render 'shared/errors', subject: meter, subject_name: 'meter' %>

  <div class="form-group">
    <%= form.label :mpan_mprn, 'Meter Point Number' %>
    <%= form.number_field :mpan_mprn, class: 'form-control' %>
  </div>
  <div class="form-group">
    <%= form.label :name, 'Meter Name' %>
    <%= form.text_field :name, class: 'form-control' %>
  </div>
  <div class="form-group">
    <%= form.label :meter_serial_number, 'Serial number' %>
    <%= form.text_field :meter_serial_number, class: 'form-control' %>
  </div>
  <div class="form-group">
    <%= form.label :meter_type, 'Meter Type' %>
    <% Meter::CREATABLE_METER_TYPES.each do |meter_type| %>
      <div class="form-check">
        <%= form.radio_button :meter_type, meter_type, class: "form-check-input" %>
        <%= form.label "meter_type_#{meter_type.to_sym}", meter_type.to_s.humanize,  class: "form-check-label col-form-label-sm" %>
      </div>
    <% end %>
  </div>

  <div class="form-group">

    <p class="alert alert-warning">Experimental features for N3RGY integration</p>

    <% if show_dcc_fields %>

      <% if meter_is_dcc %>
        <p class="alert alert-success">This meter is available in the DCC</p>
      <% else %>
        <p class="alert alert-warning">This meter is not available in the DCC</p>
      <% end %>

      <div class="custom-control custom-checkbox">
        <%= form.check_box :dcc_meter, class: 'custom-control-input'  %>
        <%= form.label :dcc_meter, 'DCC Smart Meter', class: "custom-control-label"  %>
      </div>

    <% end %>

    <div class="custom-control custom-checkbox">
      <%= form.check_box :sandbox, class: 'custom-control-input' %>
      <%= form.label :sandbox, class: "custom-control-label" %>
    </div>

    <div class="form-group">
      <%= form.label :earliest_available_data %>
      <%= date_field(:meter, :earliest_available_data, max: Time.zone.today, min: Date.parse("2012-01-01")) %>
    </div>

  </div>

  <div class="actions">
    <%= form.submit class: 'btn btn-primary'%>
  </div>

<% end %>
