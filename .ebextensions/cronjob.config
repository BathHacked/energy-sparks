files:
    #
    # Load non-amr data feeds
    #
    "/etc/cron.d/carbon-intensity":
        mode: "000644"
        owner: root
        group: root
        content: |
            00 3 * * * root /bin/bash -l -c 'cd /var/app/current && RAILS_ENV=production bundle exec rake data_feeds:carbon_intensity_loader >> log/jobs.log 2>&1'

    "/etc/cron.d/load-solar-pv-tuos":
        mode: "000644"
        owner: root
        group: root
        content: |
            30 3,15 * * * root /bin/bash -l -c 'cd /var/app/current && RAILS_ENV=production bundle exec rake data_feeds:solar_pv_tuos_loader >> log/jobs.log 2>&1'

    "/etc/cron.d/load-dark-sky-temperatures":
        mode: "000644"
        owner: root
        group: root
        content: |
            45 3 * * * root /bin/bash -l -c 'cd /var/app/current && RAILS_ENV=production bundle exec rake data_feeds:dark_sky_temperature_loader >> log/jobs.log 2>&1'

    #
    # Fetch BANES amr files and push to S3
    #
    "/etc/cron.d/fetch-and-push-banes-files":
        mode: "000644"
        owner: root
        group: root
        content: |
            0 4 * * * root /bin/bash -l -c 'cd /var/app/current && bin/fetch_banes_files_and_push_to_S3.sh'

    #
    # Import CSV files
    #
    "/etc/cron.d/import-csv-files":
        mode: "000644"
        owner: root
        group: root
        content: |
            45 4 * * * root /bin/bash -l -c 'cd /var/app/current && RAILS_ENV=production bundle exec rake amr:import_all >> log/jobs.log 2>&1'

    #
    # Import Low carbon hub data
    #
    "/etc/cron.d/import-low-carbon-hub-data":
        mode: "000644"
        owner: root
        group: root
        content: |
            00 5 * * * root /bin/bash -l -c 'cd /var/app/current && RAILS_ENV=production bundle exec rake amr:import_low_carbon_hub_readings >> log/jobs.log 2>&1'

    #
    # Validate AMR readings
    #
    "/etc/cron.d/validate-amr-readings":
        mode: "000644"
        owner: root
        group: root
        content: |
            15 5 * * * root /bin/bash -l -c 'cd /var/app/current && RAILS_ENV=production bundle exec rake amr_importer:validate_amr_readings >> log/jobs.log 2>&1'

    #
    # Generate chart config daily
    #
    "/etc/cron.d/daily-school-config-generation":
        mode: "000644"
        owner: root
        group: root
        content: |
            45 5 * * * root /bin/bash -l -c 'cd /var/app/current && RAILS_ENV=production bundle exec rake configuration:generate_for_schools >> log/jobs.log 2>&1'

    #
    # Generate alerts daily
    #
    "/etc/cron.d/daily-alert-generation":
        mode: "000644"
        owner: root
        group: root
        content: |
            0 6 * * * root /bin/bash -l -c 'cd /var/app/current && RAILS_ENV=production bundle exec rake alerts:create >> log/jobs.log 2>&1'
    #
    # Generate content daily
    #
    "/etc/cron.d/generate-content":
        mode: "000644"
        owner: root
        group: root
        content: |
            30 6 * * * root /bin/bash -l -c 'cd /var/app/current && RAILS_ENV=production bundle exec rake alerts:generate_content >> log/jobs.log 2>&1'

    #
    # Generate equivalences
    #
    "/etc/cron.d/generate-equivalences":
        mode: "000644"
        owner: root
        group: root
        content: |
            45 6 * * * root /bin/bash -l -c 'cd /var/app/current && RAILS_ENV=production bundle exec rake equivalences:create >> log/jobs.log 2>&1'
    #
    # Alert emails send
    #
    "/etc/cron.d/alert-emails-send":
        mode: "000644"
        owner: root
        group: root
        content: |
            45 7 * * Wed root /bin/bash -l -c 'cd /var/app/current && RAILS_ENV=production bundle exec rake alerts:create_alert_subscription_emails >> log/jobs.log 2>&1'
    #
    # EMail summary of imports
    #
    "/etc/cron.d/notify-amr-imports-daily":
        mode: "000644"
        owner: root
        group: root
        content: |
            45 8 * * * root /bin/bash -l -c 'cd /var/app/current && RAILS_ENV=production bundle exec rake amr_importer:send_daily_notification_email >> log/jobs.log 2>&1'

    #
    # Generate sitemap
    #
    "/etc/cron.d/generate-sitemap-daily":
        mode: "000644"
        owner: root
        group: root
        content: |
            00 7 * * * root /bin/bash -l -c 'cd /var/app/current && RAILS_ENV=production bundle exec rake "-s sitemap:refresh" >> log/jobs.log 2>&1'

# Remove baks else jobs get run twice
commands:
    remove_old_validation_1:
        command: "rm -f /etc/cron.d/validate-amr-readings-frome"
    remove_old_validation_2:
        command: "rm -f /etc/cron.d/validate-amr-readings-sheffield"
    remove_old_alerts_1:
        command: "rm -f /etc/cron.d/weekly-alerts"
    remove_old_alerts_2:
        command: "rm -f /etc/cron.d/holiday-alerts"
    remove_old_alerts_3:
        command: "rm -f /etc/cron.d/termly-alerts"
    remove_old_content_1:
        command: "rm -f /etc/cron.d/find-out-mores"
    remove_old_content_2:
        command: "rm -f /etc/cron.d/alert-subscription-events-weekly"
    remove_old_content_3:
        command: "rm -f /etc/cron.d/alert-subscription-events-termly"
    remove_old_imports_1:
        command: "rm -f /etc/cron.d/banes-import-csv-files"
    remove_old_imports_2:
        command: "rm -f /etc/cron.d/frome-import-csv-files"
    remove_old_imports_3:
        command: "rm -f /etc/cron.d/sheffield-import-csv-files"
    remove_old_imports_4:
        command: "rm -f /etc/cron.d/sheffield-gas-import-csv-files"
    remove_old_cron:
        command: "rm -f /etc/cron.d/*.bak"
