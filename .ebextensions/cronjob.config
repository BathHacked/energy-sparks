files:
    #
    # Load non-amr data feeds
    #
    "/etc/cron.d/load-weather-underground":
        mode: "000644"
        owner: root
        group: root
        content: |
            30 4,16 * * * root /bin/bash -l -c 'cd /var/app/current && RAILS_ENV=production bundle exec rake data_feeds:weather_underground_loader >> log/jobs.log 2>&1'
    "/etc/cron.d/load-solar-pv-tuos":
        mode: "000644"
        owner: root
        group: root
        content: |
            30 3,15 * * * root /bin/bash -l -c 'cd /var/app/current && RAILS_ENV=production bundle exec rake data_feeds:solar_pv_tuos_loader >> log/jobs.log 2>&1'

    #
    # Run alert cron job
    #
    "/etc/cron.d/run-alert-job":
        mode: "000644"
        owner: root
        group: root
        content: |
            0 6 * * * root /bin/bash -l -c 'cd /var/app/current && RAILS_ENV=production bundle exec rake utility:check_automated_emails_on alerts:cron_job >> log/jobs.log 2>&1'

    #
    # Fetch BANES amr files and push to S3
    #
    "/etc/cron.d/fetch-and-push-banes-files":
        mode: "000644"
        owner: root
        group: root
        content: |
            0 4 * * * root /bin/bash -l -c 'cd /var/app/current && bin/fetch_banes_files_and_push_to_S3.sh'

    #
    # Import CSV files
    #
    "/etc/cron.d/banes-import-csv-files":
        mode: "000644"
        owner: root
        group: root
        content: |
            40 4 * * * root /bin/bash -l -c 'cd /var/app/current && RAILS_ENV=production bundle exec rake amr_banes:import_csv >> log/jobs.log 2>&1'
    "/etc/cron.d/frome-import-csv-files":
        mode: "000644"
        owner: root
        group: root
        content: |
            10 9,10 * * * root /bin/bash -l -c 'cd /var/app/current && RAILS_ENV=production bundle exec rake amr_frome:import_csv >> log/jobs.log 2>&1'
    "/etc/cron.d/sheffield-import-csv-files":
        mode: "000644"
        owner: root
        group: root
        content: |
            15 8-18 * * * root /bin/bash -l -c 'cd /var/app/current && RAILS_ENV=production bundle exec rake amr_sheffield:import_csv >> log/jobs.log 2>&1'
    "/etc/cron.d/sheffield-gas-import-csv-files":
        mode: "000644"
        owner: root
        group: root
        content: |
            20 8-18 * * * root /bin/bash -l -c 'cd /var/app/current && RAILS_ENV=production bundle exec rake amr_sheffield_gas:import_csv >> log/jobs.log 2>&1'

    #
    # Validate AMR readings
    #
    "/etc/cron.d/validate-amr-readings":
        mode: "000644"
        owner: root
        group: root
        content: |
            45 5 * * * root /bin/bash -l -c 'cd /var/app/current && RAILS_ENV=production bundle exec rake amr_importer:validate_amr_readings >> log/jobs.log 2>&1'
    "/etc/cron.d/validate-amr-readings-frome":
        mode: "000644"
        owner: root
        group: root
        content: |
            20 9,10 * * * root /bin/bash -l -c 'cd /var/app/current && RAILS_ENV=production bundle exec rake amr_importer:validate_amr_readings_by_school_group_name['Frome'] >> log/jobs.log 2>&1'
    "/etc/cron.d/validate-amr-readings-sheffield":
        mode: "000644"
        owner: root
        group: root
        content: |
            25 8-18 * * * root /bin/bash -l -c 'cd /var/app/current && RAILS_ENV=production bundle exec rake amr_importer:validate_amr_readings_by_school_group_name['Sheffield'] >> log/jobs.log 2>&1'

    #
    # EMail summary of imports
    #
    "/etc/cron.d/notify-amr-imports-daily":
        mode: "000644"
        owner: root
        group: root
        content: |
            45 8 * * * root /bin/bash -l -c 'cd /var/app/current && RAILS_ENV=production bundle exec rake amr_importer:send_daily_notification_email >> log/jobs.log 2>&1'
    #
    # Weekly alerts
    #
    "/etc/cron.d/weekly-alerts":
        mode: "000644"
        owner: root
        group: root
        content: |
            0 8 * * Wed root /bin/bash -l -c 'cd /var/app/current && RAILS_ENV=production bundle exec rake alerts:create_weekly >> log/jobs.log 2>&1'
    #
    # Holiday alerts
    #
    "/etc/cron.d/holiday-alerts":
        mode: "000644"
        owner: root
        group: root
        content: |
            0 8 * * * root /bin/bash -l -c 'cd /var/app/current && RAILS_ENV=production bundle exec rake alerts:create_holiday >> log/jobs.log 2>&1'
# Remove baks else jobs get run twice
commands:
    remove_old_alerts_job:
        command: "rm -f /etc/cron.d/run-alert-job"
    remove_old_cron:
        command: "rm -f /etc/cron.d/*.bak"
